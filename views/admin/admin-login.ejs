<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="/styles/adminStyle/adminLogin.css"
      type="text/css"
    />
    <title>Login</title>
    <style>
      .error-message {
        color: rgba(255, 0, 0, 0.877);
        font-size: small;
        position: relative;
        top: -19px;
      }
      .input-field {
        position: relative;
      }
      .toggle-password {
        position: absolute;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <div class="container main">
        <div class="row">
          <div
            class="col-md-6 side-image"
            style="background-image: url(../images/adminImg/admin4.jpg)"
          >
            <!-------------      image     ------------->

            <div>
              <img src="/images/logo.png" abglt="" />
              <h6 style="margin: 41px 57px; font-weight: 700">Blendify</h6>
            </div>
            <!-- <div class="text">
                    <p>Welcome to our Blendify family.Ready to blend? <i>- ludiflex</i></p>
                </div> -->
          </div>
          <div class="col-md-6 right">
            <div class="input-box">
              <header style="color: rgba(139, 0, 0); font-size: larger">
                Admin Signin
              </header>
              <% if (message) { %>
              <div class="error-message text-center">
                <%= message %>
              </div>
              <% } %>

              <form id="adminLoginForm" method="post" action="/admin/login">
                <div class="input-field">
                  <input
                    type="text"
                    class="input"
                    id="adminEmail"
                    name="email"
                    autocomplete="off"
                  />
                  <label for="adminEmail">Email</label>
                  <div id="emailError" class="error-message"></div>
                </div>
                <div class="input-field">
                  <input
                    type="password"
                    class="input"
                    id="adminPassword"
                    name="password"
                  />
                  <label for="adminPassword">Password</label>
                  <span class="toggle-password" onclick="togglePasswordVisibility()">
                    <i class="bi bi-eye"></i>
                  </span>
                  <div id="passwordError" class="error-message"></div>
                </div>
                <div class="input-field">
                  <input
                    type="submit"
                    style="font-size: small; font-weight: 600"
                    class="submit"
                    value="Sign In"
                  />
                </div>
              </form>
              <!-- <h6 style="margin: 7px 155px; font-size: smaller">OR</h6> -->
              <!-- <div class="input-field">
                <input style="font-size: small;
                font-weight: 600;
            "
                  type="submit"
                  class="submit"
                  value="Sign Up with Google"
                />
              </div> -->
              <!-- <div class="signin">
                <span
                  >Dont have an account? <a href="#">Log in here</a></span
                >
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const adminLoginForm = document.getElementById("adminLoginForm");
        const emailField = document.getElementById("adminEmail");
        const passwordField = document.getElementById("adminPassword");
        const emailError = document.getElementById("emailError");
        const passwordError = document.getElementById("passwordError");

        adminLoginForm.addEventListener("submit", function (event) {
          let isValid = true;
          const emailPattern =
            /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
          if (!emailPattern.test(emailField.value)) {
            emailError.textContent = "Invalid email format";
            isValid = false;
          } else {
            emailError.textContent = "";
          }
          if (passwordField.value.length < 8) {
            passwordError.textContent =
              "Password should contain at least 8 characters";
            isValid = false;
          } else {
            passwordError.textContent = "";
          }

          if (!isValid) {
            event.preventDefault();
          }
        });
      });

      function togglePasswordVisibility() {
        const passwordField = document.getElementById("adminPassword");
        const toggleIcon = document.querySelector(".toggle-password i");
        if (passwordField.type === "password") {
          passwordField.type = "text";
          toggleIcon.classList.remove("bi-eye");
          toggleIcon.classList.add("bi-eye-slash");
        } else {
          passwordField.type = "password";
          toggleIcon.classList.remove("bi-eye-slash");
          toggleIcon.classList.add("bi-eye");
        }
      }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css">
  </body>
</html>
